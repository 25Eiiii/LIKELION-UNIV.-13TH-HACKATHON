#최소 대화 흐름
version: "3.1"
rules:
- rule: Greet
  steps:
    - intent: greet
    - action: utter_greet

# 1) 추천을 물어보면 먼저 분기 액션으로 보냄
- rule: Decide next step for recommendation
  steps:
    - intent: ask_recommend
    - action: action_determine_next_step

# 2) 지역을 고르면 바로 추천 (근처/가까운 시나리오)
- rule: Recommend after area provideda
  condition:
      - slot_was_set:
          - area: true
  steps:
    - intent: inform_area
    - action: action_recommend_event

# 3) 카테고리를 고르면 바로 추천 (인기/주말/가족 시나리오, 또는 직접 지정)
- rule: Recommend after category provided
  condition:
    - slot_was_set:
        - category: true
  steps:
    - intent: inform_category
    - action: action_recommend_event

# 4) 더보기
- rule: Show more results
  steps:
    - intent: show_more
    - action: action_show_more

- rule: User affirms
  steps:
    - intent: affirm
    - action: utter_ack

- rule: User denies
  steps:
    - intent: deny
    - action: action_listen

